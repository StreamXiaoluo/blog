---
title: 网络工程师学习笔记
date: 2024-03-15 13:37:52
tags:

---


# 网络工程师学习笔记

## 前言：备考指南

### 1. 资源
 网盘资源：https://pan.baidu.com/s/193mRx0RHChP5aMlO4HOxXQ
 密码：0lwv

### 2. 学习内容
![alt text](<../../themes/butterfly/source/img/截屏2024-03-14 17.46.22.png>)

1. 计算机基础：看补充视频
2. 计算机英语
3. 教材内容

### 3. 学习时间规划

* 3月，看完基础精讲视频，基础97+华为17
* 4月，做3套真题找感觉，看真题29课时，2022.11～2023.11 偏难
* 5月，继续做题，冲刺

* 专题直播


## 第一章 计算机网络概论

### 1. 发展与分类
计算机网络的概念：
* 计算机网络 （ICT）： 计算机技术 IT + 通讯技术 CT
  * HCIA、HCIP  ICT工程师
* SDN ： Software Design Network
* 云计算

发展阶段：
 * 阶段一
 * 阶段二
 * 阶段三： 1977：ISO制订、1985:TCP/IP商用

计算机网络分类：

1. 通信子网 和 资源子网
  * 通信子网：通信节点、通信链路
  * 用户资源子网：PC、服务器
2. 网络拓扑结构
3. 按覆盖范围分类：局域网LAN、城域网MAN、广域网WAN
4. 按交换技术分类：电路交换网络、报文交换网络、分组交换网络
5. 按采用协议分类
6. 按传输介质分类
7. 按用途分类

### 2. OSI和TCP/IP模型

为什么进行分层？
* 早期系统封闭，更新慢
* 现在，NOW，兼容机，软硬分离、各司其职

OSI模型作用：
* 一层改变不影响其他层，有利于系统设计、开发和故障排查；
* 产业标准化
* 允许多个厂商共同开发
* 各个设备无缝融合
* 网络技术快速迭代，降低成本

OSI模型七层内容

TCP/IP参考模型

TCP/IP模型对应协议



### 3. 数据封装与解封的过程

* APDU：Application Protocol Data Unit （进程号）
* Segment （端口号）
* Package （IP）
* Frame （MAC）
* Bit 

## 第二章 数据通信基础

### 1. 信道特性

数据通信的概念：
* 信源
* 信道
* 信宿

信道带宽：
* 模拟信道带宽：W = f2-f1 Hz
* 数字信道带宽：bit/s

码元和码元速率：
* 码元：一个数字脉冲（时钟周期的信号）
* 码元速率（单位时间的数字脉冲）：Baud = 1/T（码元宽度）
* 一个码元携带信息量n = log2N（码元种类）

奈奎斯特定理：
* **最大**码元速率 B = 2W 
* 极限数据速率 R = B log2N = 2W log2N

香农定理：
* 极限（数据）速率 C = W log2（1+S/N）
* 分贝 dB = 10 lg S/N
* S/N：信噪比， dB = 30， S/N = 1000 ，C约等于10W

* QPSK：N=4、DPSK：N=2


> 辨析：数据传输速率和带宽之间有密切的关系，但它们并不是完全相同的概念。
> - **带宽（Bandwidth）**：带宽是指在一个特定时间内能通过某个通信信道的最大数据量。通常用Hz（赫兹）来表示，比如1 Hz表示每秒传输1个周期的信号。在网络通信中，带宽通常以比特率（bits per second，bps）来表示，例如兆比特每秒（Mbps）或千兆比特每秒（Gbps）。
>- **数据传输速率（Data Transfer Rate）**：数据传输速率是指在网络中实际传输数据的速度，通常也以比特率（bps）来表示。这是指在网络中实际传输数据的速度，通常也以比特率（bps）来表示。数据传输速率取决于带宽以及其他因素，如网络拥塞、信号干扰等。
带宽决定了数据传输的最大速率，但实际数据传输速率可能会受到其他因素的影响，如网络拥塞、信号干扰、传输协议效率等。因此，尽管带宽越高，理论上传输速率也越高，但实际数据传输速率可能受到其他因素的限制。
总的来说，带宽决定了网络的潜在传输能力，而数据传输速率则是实际数据在网络中传输的速度。


### 2. 信道延迟

> 计算
> 考试放到最后算
1. 公式
   * **信道（总）延迟 = 线路延迟 + 发送延迟 = 线路长度/传播速率 + 数据大小/数据传输速率**
   * 光纤信道传播速率：3e8 m/s
   * 电缆信道中传播速率： 2e8 m/s
   * 卫星信道传播时延： 270ms（单程）
2. 单位换算
   * 1 Byte = 8 bit
   * 100M 的线路带宽表示 100 Mbit/s = 100 000000 bit/s
   * 1000 Byte = 1000 x 8 bit

### 3. 传输介质

1. 有线：同轴电缆、双绞线、光纤

* 双绞线：多对绝缘铜导线两两相互缠绕，为了降低干扰
  * 100M 4根
  * 1000M 8根 （全用）
  * 规格：TIA/EIA定义： 5类、超5/6类、超6类、7类（10G、必须屏蔽线）
  * 网线：100m
  * 屏蔽线STP 与 非屏蔽线UTP：减小电磁干扰、辐射
* 光纤：玻璃或塑料纤维的全反射原理
  * 长距离传输
  * 光缆：多根光纤和塑料保护套管与塑料外皮构成
  * 分类：
    * 多模光纤：850、1300nm
    * 单模光纤：1310、1550nm
  * 光接口与光模块：用于光纤与交换机的互连；有单芯和双芯；
  * 光纤之间的连接：
    1. 熔接
    2. 使用连接器：
        * LC（小方口）：网络设备常用
        * SC（大方口）
        * ST（圆形）：配线架
        * FC（圆形螺纹）：配线架
  * 跳线与尾纤：
    1. 双绞线跳线：带有水晶头的网线
    2. 光纤跳线：带有连接器与保护层的光纤
    3. 尾纤：用于熔纤 

2. 无线：无线电波 500kHz～1000MHz、微波 300MHz～300GHz、红外线、激光

### 4. 数据编码

1. 曼彻斯特编码
2. 差分曼彻斯特编码：双相码、“**有0无1**”、波形从第二位开始看
3. 两种编码的特点：
   * 双相码，每一位要求电平变化
   * 具有**自定时和检测错误**功能
   * 能将时间和数据包含在信号数据流中，称为自同步码
   * 编码效率都是：**50%**
   * **数据速率是码元速率的一半**
4. 其他编码：
   * 4B/5B ：百兆 ，80%
   * 8B/10B ： 千兆 ， 80%
   * 64B/66B ： 万兆 ， 97%
 
### 5. 调制技术
> 针对模拟信号的技术

1. 幅度键控ASK ： 振幅表示0、1
2. 频移键控FSK ： 快慢不同
3. 相移键控PSK ； 形状不同
4. 正交幅度调制QAM ： 两个幅度相同、相位相差90度的模拟信号合并

* DPSK波形：看波形是否变化，**有0无1**
* PSK = BPSK = 2PSK

### 6. ‼️ 脉码调制PCM
> 针对基带传输（数字信号）
> 
1. 三个步骤：
  * 采样：
    奈奎斯特采样定理：以`≥2倍最高频率`进行采样，得到的离散信号能完整还原 
  * 量化：将采样的连续值转换为离散值
  * 编码:
2. PCM计算
  * 不使用奈奎斯特和香农公式
  * 计算题速率单位全换算成bit/s
  * Hz单位表示每秒多少次
 
### 7. 通信和交换方式

1. 按通信方向分：
   * 单工通信：电视、广播
   * 半双工通信：wifi、对讲机、Hub（集线器）
   *  全双工通信：电话、交换机
2. 按同步方式分：
   * 异步传输：HDLC，引入起止位，效率低
   * 同步传输：发送前 发送SYNC同步符，2个以上进入同步状态，多用于短距离高速传输

3. 数据交换方式
   * 电路交换：物理通路，独占
   * 报文交换：存储转发 ，数据不拆分，报文中有传输路径
   * 分组交换：进行分组，可分组纠错
     * 数据报：每个分组独自处理 IP
     * 虚电路：传送之前先建立逻辑连接 X.25、ATM、FR

### 8. 数字传输系统E1/T1

1. 多路复用技术
   * 多路复用器Multiplexer ： OLT
   * 多路分配器Demultiplexer ： ONU（光猫）
   1. 频分复用 ： 无线电广播、ADSL、FDD-LTE
   2. 时分复用： T1/E1 、 SONET/SDH 、 Wifi 、 TDD-LTE
   3. 波分复用：本质是频分复用，c = f ✖️ 𝝺
2. E1/T1
   1. E1速率：2.048、64k
   2. T1速率：1.544 
3. 同步数字虚列
   1. OC-3 、STM-1、155Mbps
   2. OC-12 622Mbps
   3. OC-48、2.5Gbps
   4. OC-192、10Gbps

### 8. 海明码纠错码

差错控制方法：纠错和检错

1. 奇偶校验：检错方法
> 在assic码的末尾加入1位，使整个码中的1的个数位奇数或偶数

2. 海明码：检错和纠错
   * 海明距离（码距）：两个码字的不同的位数
   * 原理：加入几个校验码，均匀拉大码距，当一位出错，其他位数也变化
   * ⭐️海明不等式：2^k - 1 ≥ m + k
   * ‼️ 海明码编码：校验位与数据位的关系（将数据位位数分解，分解的数值包含哪些，就决定了该校验位的数值）

### 9. CRC循环冗余校验码

* 只能检错 

计算步骤：
  1. 判断校验位位数，生成多项式最高次是几，位数就是几
  2. 补齐数据位后面的0
  3. 提取生成多项式的系数
  4. 用第二步的数据 除以 多项式系数，进行异或运算，余数为校验码


## 第三章 广域通信网

### 1. 广域网物理层特性

* 公共交换电话网络：PSTN
* 本地回路：
  * DTE数据终端设备：PC、电话机
  * DCE数据电路设备：猫/调制解调器/Modem
* 机械特性：
  * RS232-C接口：几何形状、引线数、尺寸
  * 25针D型： 老式打印机
  * 9针：串行接口、如交换机的console接口
  * USB + RS232 + RJ45水晶头
  * MGMT网络远程调节接口
* 电气特性：
  * RS-232-C采用V。28标准电路，20kb/s，15米

### 2. 流量与差错控制

* 流量控制：X.25 、TCP
  * 停等协议：发一个等一等
  * 滑动窗口协议：连续发送多个帧
* 差错控制：
  * ARQ自动重传协议：
    *  停等ARQ协议
    *  选择重发ARQ协议：只重发没收到的、SREJ
    *  后退N帧ARQ协议：重新从没收到的帧开始发、REJ
    *  公式：选上退下

### 3. 帧中继FR与HDLC

1. 帧中继FR
   * 第二层数据链路层协议，虚电路的分组方式；
   * 分组交换，面向连接的服务；
   * 只做检错和拥塞控制，没有流控和重传，开销小；
   * 帧长可变 2～45Mbps
   * 不保证可靠提交
2. ISDN和ATM
   * ISDN：
     * BRI：144kbps
     * PRI：2.048Mbps
   * 宽带ISDN即ATM：
     * 信元交换，53字节
     * 虚电路
     * 150M
3. ⭐️HDLC
   * 高级数据链路控制：High level Data Link Control
   * 面向位的同步链路控制协议
   * CRC-16、CRC-32校验，帧边界 `01111110`
   * 控制字段：8bit
     * 信息帧（I帧）：承载数据和控制
     * 监控帧（S帧）：差错控制和流量控制
       * RR：00
       * RNR：10
       * REJ：01
       * SREJ：11
     * 无编号帧（U帧）：链路建立控制，也可承载数据
  

## 第四章 局域网和城域网

### 1. 局域网基础


### 2. CSMA/CD
> 16次网络繁忙，不再尝试发送

1. 非坚持型
2. 1-坚持型
3. P-坚持型

* 冲突检测原理
  * **边发边听**的检测原理

### 3. 二进制指数退避算法

* 后一次退避的时间不一定比前一次长
* 使用随机函数，降低冲突概率
* 16次冲突，不再发送
* 简化公式：冲突n次后，再次冲突概论 1/2^n


### 4. 最小帧长计算

* Lmin = 2R x d/v
* 不冲突条件： 发送时间 ≥ 传送时间 + 确认时间

### 5. 以太网帧结构与物理层规范

1. 以太网帧结构
   * 前7+1字节用于时钟同步，不计入帧长
   * 数据MTU ： **46～1500**字节
   * **4**字节校验位
   *  最小**64**字节
   *  最长**1518**字节

2. 以太网报文的封装
   * 以太网报头 14byte - IP报头 20byte - TCP报头 20byte - 数据部分 -以太网报尾 4byte 

3. 802.3以太网（10M）
   * 物理层规范命名： 传输速率Mbps  - 信号方式 - 最大传输距离或传输介质
4. 802.3u 百兆以太网
   * 🎋 需要记忆
5. 千兆以太网
   * 802.3z 和 802.3ab
   * 4对双绞线，100m
6. 万兆以太网
   * 802.3ae、10G、光纤/双绞线
   * 点到点线路，不共享带宽，没有冲突检测机制

### 6. ⭐️ 虚拟局域网VLAN
> 对交换局域网进行分段，形成逻辑网络
> 不同VLAN通信需要经过3层设备：路由器、交换机、防火墙等
> **冲突域和广播域：一个中继器和集线器是一个冲突域，一个VLAN为一个广播域，交换机的一个接口为一个冲突域。**

* 冲突域：连接在同一共享介质上的所有节点，共享宽带，竞争，一个节点发出，所有能收到
* 广播域：交换机的所有接口为一个广播域，路由器的每个接口是一个广播域

1. 交换机VLAN的划分
   * 静态划分：基于交换机端口
   * 动态划分：基于MAC地址、基于策略、基于网络层协议、基于网络层地址
2. VLAN划分配置
   * 静态划分：

      ```
      [huawei] vlan 10
      [huawei-vlan10] quit

      [设备] interface GigabitEthernet 0/0/1
      [设备-GigabitEthernet0/0/1] port link-type access
      [设备-GigabitEthernet0/0/1] port default vlan 10


      ```

    * 动态划分
      ```
      # 基于mac地址
      

      # 基于策略
      
      ```

3. vlan作用
   * 减小冲突域，提高利用效率；
   * 提高网络安全性；
   * 突破地理位置而根据管理功能来划分。
4. 802.1Q标签
   * 4字节
     * TPID 16bit
     * PRI 3bit
     * CFI 1bit
     * VID 12bit 
  > 最多可配置4094个vlan ，0被用于识别优先级，4095留用
  > vlan标签的添加与删除处理过程快，无延迟
  > vlan标记，透明

5. 交换机的端口类型
   * Access端口：只能传单个vlan数据，摄像头、PC
   * Trunk接口：多个vlan，交换机之间  
   * Hybrid接口：混合接口
   * QinQ接口：双层标签，城域网

### 7. 生成树协议STP

1. 生成树技术背景
   冗余设计会解决单点故障问题，但会产生二层环路问题，需要用STP来解决二层环路问题。
   * 广播风暴：**网络慢、所有指示灯高速闪烁、CPU占用率高、CLI卡顿（命令行）**
   * MAC地址表的震荡
   * STP能防止环路，并保证冗余性。


2. 网桥ID
   * 8字节：2字节优先级，默认**32768**，6字节mac地址
   * 优先级：越小越优先，4096倍数
3. 路径开销
   * STP选择链路的参考值
   * 带宽越大，路径开销越小
   * 华为默认802.1t
4. STP选举操作 （BPDU报文）
     1. 确定根桥Root Bridge ： 选优先级和MAC地址最小的网桥
     2. 确定其他网桥的根端口Root Port ： 非根桥的端口到根桥最近的端口
     3. 每个段指定一个端口Destinated Port ： 先指定桥，指定桥上 为指定端口
     4. 选出非指定端口Nodestinated Port
      * 一端是RP，另一段是DP；一端是DP，另一段是RP或非指定端口
      * 优先级先比较开销，之后交换机ID（网桥ID），交换机端口ID
5. 几种生成树协议
   * 802.1d STP ：慢，30～50s
   * 802.1w RSTP ： 6s 快速收敛
   * 802.1s MSTP ：负载均衡

### 8. 城域网基础

1. E-lan，IEEE802.1ad，QinQ技术
   * 双层标签 各4字节
2. IEEE802.1ah，PBB，MAC-in-MAC技术